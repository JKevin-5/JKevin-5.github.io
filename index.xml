<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Kevin&#39;s Blog</title>
        <link>https://JKevin-5.github.io/</link>
        <description>Recent content on Kevin&#39;s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-CN</language>
        <lastBuildDate>Mon, 04 Apr 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://JKevin-5.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>如何在Linux上使用定时任务执行python脚本</title>
        <link>https://JKevin-5.github.io/p/20220404/</link>
        <pubDate>Mon, 04 Apr 2022 00:00:00 +0000</pubDate>
        
        <guid>https://JKevin-5.github.io/p/20220404/</guid>
        <description>&lt;blockquote&gt;
&lt;p&gt;最主要的目的是为了实现定时的将当日基金数据爬到自己的数据库中，且集成日志管理、定时任务等。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一crontablinux自带定时任务管理&#34;&gt;一、crontab——Linux自带定时任务管理&lt;/h2&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;crontab有几点好处：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;随着系统的开关而开关，重启自动开启任务，不用操心服务器状态；&lt;/li&gt;
&lt;li&gt;crontab支持多种的脚本启动；&lt;/li&gt;
&lt;li&gt;如果语法没有写对的情况下保存会有相应的报错。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更多有关crontab定时任务的设定的可以参考&lt;a class=&#34;link&#34; href=&#34;https://tool.lu/crontab/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;工具网站&lt;/a&gt;，切记选择Linux。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# crontab 定时任务清单查看
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;crontab -l
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# crontab 定时任务清单编写
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;crontab -e
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# python脚本设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 每周1-5的14点和12点执行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0 12，14 * * 1-5 python /home/crontab/demo.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# shell脚本设置
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 在 凌晨00:10运行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10 0 * * * /home/swz/aa.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;二linux修改时区&#34;&gt;二、Linux修改时区&lt;/h2&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;使用&lt;code&gt;timedatectl&lt;/code&gt;查看当前时区；&lt;/li&gt;
&lt;li&gt;更改时区设定前可以先搜索一下时区列表&lt;code&gt;timedatectl list-timezones&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;默认时区可以设置为上海&lt;code&gt;sudo timedatectl set-timezone Asia/Shanghai&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;三切换python版本&#34;&gt;三、切换python版本&lt;/h2&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Linux的命令行软链接地址为：&lt;code&gt;/usr/bin&lt;/code&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;centos7默认带有python2.7以及python3.6，默认python命令是指向的python2.7；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如何修改python指令的默认指向；&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 首先删除之前已有的软链接
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm /usr/bin/python
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# 创建新的软链接到python3.6
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ln -s /usr/bin/python3.6 /usr/bin/python
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;需要注意点是，只切换了python的版本是不够的，pip可能还是指向的之前的2.7版本，两个版本需要一致。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;四python的日志编写&#34;&gt;四、Python的日志编写&lt;/h2&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;日志只要声明了，&lt;code&gt;logging&lt;/code&gt;相关的语句会自动的写入本地文件；&lt;/li&gt;
&lt;li&gt;本地文件的名称和地址以下默认为日期，因为是追加方式写入，一天内启动多次也只会产生一个文件，后续可以采用另一个定时任务去删除log文件，up to u；&lt;/li&gt;
&lt;li&gt;logging中的配置，level是最低输出的log级别，跟spring中使用slfj、lombok的log是一样的，如果我没记错的话。默认为warning，切记，&lt;code&gt;logging.INFO&lt;/code&gt;这个需要大写；&lt;/li&gt;
&lt;li&gt;更多有关python日志的内容可以&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/339961421&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;参考网站&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;五总结&#34;&gt;五、总结&lt;/h2&gt;
&lt;p&gt;脚本并不稳定，且不是任何的错误都能跟java一样能捕捉得到，所以需要不断的测试，java的相关知识也需要慢慢的产出。
立flag，从本周起一周至少更新两篇post。&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Pictures</title>
        <link>https://JKevin-5.github.io/p/20220304/</link>
        <pubDate>Sat, 05 Mar 2022 00:00:00 +0000</pubDate>
        
        <guid>https://JKevin-5.github.io/p/20220304/</guid>
        <description>&lt;img src="https://JKevin-5.github.io/p/20220304/p8.jpg" alt="Featured image of post Pictures" /&gt;&lt;h2 id=&#34;apple-ippawards比赛&#34;&gt;Apple IPPAWARDS比赛&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;随意挑选了几张照片参加了这个比赛，大概率是去凑了个分母，但是还是蛮开心的&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Deadline：2022-03-31&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.ippawards.com/the-competition/#&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;参赛链接&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p1.jpg&#34;
	width=&#34;2990&#34;
	height=&#34;4032&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p1_hucd858f8c8e37e0df6ae430413ab3d98c_1498606_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p1_hucd858f8c8e37e0df6ae430413ab3d98c_1498606_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;74&#34;
		data-flex-basis=&#34;177px&#34;
	
&gt;
&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p2.jpg&#34;
	width=&#34;3024&#34;
	height=&#34;4032&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p2_hu4186a22e3b8dd3732e5fb4d40b75bc0f_1828683_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p2_hu4186a22e3b8dd3732e5fb4d40b75bc0f_1828683_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on Kulangsu&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;75&#34;
		data-flex-basis=&#34;180px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;夜晚的厦门&#34;&gt;夜晚的厦门&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;周五晚上下班就直接冲岛内，逛了一晚上&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p3.jpg&#34;
	width=&#34;5184&#34;
	height=&#34;3888&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p3_hudcf2eff898605e98496bc884ba2dd024_3967488_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p3_hudcf2eff898605e98496bc884ba2dd024_3967488_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;
&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p4.jpg&#34;
	width=&#34;3328&#34;
	height=&#34;2496&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p4_hudcf2eff898605e98496bc884ba2dd024_1255936_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p4_hudcf2eff898605e98496bc884ba2dd024_1255936_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p5.jpg&#34;
	width=&#34;5184&#34;
	height=&#34;3888&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p5_hudcf2eff898605e98496bc884ba2dd024_1435136_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p5_hudcf2eff898605e98496bc884ba2dd024_1435136_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;
&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p6.jpg&#34;
	width=&#34;5184&#34;
	height=&#34;3888&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p6_hudcf2eff898605e98496bc884ba2dd024_5425664_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p6_hudcf2eff898605e98496bc884ba2dd024_5425664_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p7.jpg&#34;
	width=&#34;5184&#34;
	height=&#34;3888&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p7_hudcf2eff898605e98496bc884ba2dd024_3332608_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p7_hudcf2eff898605e98496bc884ba2dd024_3332608_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;
&lt;img src=&#34;https://JKevin-5.github.io/p/20220304/p8.jpg&#34;
	width=&#34;5184&#34;
	height=&#34;3888&#34;
	srcset=&#34;https://JKevin-5.github.io/p/20220304/p8_hudcf2eff898605e98496bc884ba2dd024_4019200_480x0_resize_q75_box.jpg 480w, https://JKevin-5.github.io/p/20220304/p8_hudcf2eff898605e98496bc884ba2dd024_4019200_1024x0_resize_q75_box.jpg 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Photo by Kevin on XiaMen&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
